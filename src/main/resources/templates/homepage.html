<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
      //Load content function for dynamic web pages
        function loadContent(fragmentName) {
            var url = '/' + fragmentName;
        
            fetch(url)
                .then(function (response) {
                    return response.text();
                })
                .then(function (html) {
                    var contentContainer = document.getElementById('dynamic-content');
                    contentContainer.innerHTML = html;
                })
                .catch(function(error) {
                    console.log('Error', error);
                })
        }

        //add eventlistener to monitor dynamic-content switch
        document.addEventListener('DOMContentLoaded', function() {
            var contentContainer = document.getElementById('dynamic-content');
            var defaultContent = contentContainer.innerHTML;

            function handleClickEvent(event) {
                event.preventDefault();
                var fragmentName = event.target.getAttribute('data-fragment');
                loadContent(fragmentName);
            }
            
            //different fragments connected eventListener with link
            document.getElementById('homepage-link').addEventListener('click', handleClickEvent);
            document.getElementById('aboutMe-link').addEventListener('click',handleClickEvent);
            document.getElementById('projects-link').addEventListener('click', handleClickEvent);
        });
    </script>
    <!-- CSS Style -->
    <link rel="stylesheet" th:href="@{/css/homepage.css}" />


    <!-- Tab title -->
    <title>Marcus Gibeson Portfolio</title>
</head>

<body>
    
    <nav>
        <section id="navigation">
            <div>
                <a th:href="@{/skills}" id="skills-link">
                    <span class="navigation">Skills</span>
                </a>
            </div>
           
            <div>
                <a th:href="@{/aboutMe}" id ="homepage-link">
                    <span class="navigation">About me</span>
                </a>
            </div>

            <div>
                <a th:href="@{/projects}" id="projects-link">
                    <span class="navigation">Projects</span>
                </a>
            </div>
        </section>
    </nav>
    
    <h1>Marcus Gibeson</h1>


</body>
</html>